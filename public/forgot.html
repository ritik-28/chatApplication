<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>chat App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="signup.css" rel="stylesheet" />
  </head>
  <body>
    <section class="vh-100 gradient-custom">
      <div class="container py-5 h-100">
        <div class="row justify-content-center align-items-center h-100">
          <div class="col-8 col-lg-5 col-xl-7">
            <div
              class="card shadow-2-strong card-registration"
              style="border-radius: 15px"
            >
              <div class="card-body p-4 p-md-5">
                <img src="tiwachatlogo.PNG" style="width: 20%; height: 2%" />
                <h3 class="mb-3 pb-2 pb-md-0">
                  Enter the email with which you have registered
                </h3>
                <form class="forgotform">
                  <div class="row">
                    <div class="col-md-12 mb-sm-2 pb-2">
                      <div class="form-outline">
                        <input
                          type="email"
                          id="emailforgot"
                          class="form-control form-control-lg"
                        />
                        <label class="form-label" for="emailforgot"
                          >Email</label
                        >
                        <p class="emailno">
                          User does not exists. Please Signup
                        </p>
                        <p class="yespwd">
                          A password reset link sent to your registerd email
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="mt-3 pt-0 pl-0">
                    <input
                      class="btn btn-lg"
                      type="submit"
                      value="Submit"
                      style="
                        border-radius: 1rem;
                        color: white;
                        font-weight: 600;
                      "
                    />
                  </div>
                </form>
                <div>
                  <a class="text-danger" href="login.html">Login?</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script>
      document
        .querySelector(".forgotform")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const obj = { email: e.target.emailforgot.value };
          const done = await axios.post(
            "http://localhost:3000/password/forgotpassword",
            obj
          );
          if (done.data.sucess === false) {
            document.querySelector(".yespwd").style.display = "none";
            document.querySelector(".emailno").style.display = "block";
          } else {
            document.querySelector(".emailno").style.display = "none";
            document.querySelector(".yespwd").style.display = "block";
          }
        });
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"
      integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </body>
</html>
